{% extends 'base.html' %}
{% block content %}
<div class="chat-layout">
    <aside class="sidebar">
        <div class="sidebar-header">
            <h3>Чаты</h3>
            <button id="new-chat">➕</button>
        </div>
        <ul class="conversation-list">
            {% for conv in conversations %}
            <li data-id="{{ conv.id }}">
                <a href="{% url 'chat:room' conv.id %}">
                    <span class="name">{{ conv.name|default:'Личный чат' }}</span>
                    <span class="last-message">{{ conv.last_msg_content|truncatechars:20 }}</span>
                </a>
            </li>
            {% empty %}
            <li>Нет чатов. Начните общение!</li>
            {% endfor %}
        </ul>
    </aside>
    <section class="chat-area">
        <p>Выберите чат для начала общения</p>
    </section>
</div>
{% endblock %}